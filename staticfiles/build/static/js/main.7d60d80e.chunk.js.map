{"version":3,"sources":["styles/NotFound.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/NavBar.js","assets/logo.png","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","assets/upload.png","pages/posts/PostEditForm.js","components/MoreDropdown.js","pages/posts/Post.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","pages/comments/CommentCreateForm.js","contexts/ProfileDataContext.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/posts/PostPage.js","assets/no-results.png","pages/posts/PostsPage.js","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","components/NotFound.js","App.js","reportWebVitals.js","index.js","App.module.css","styles/NavBar.module.css","styles/SignInUpForm.module.css","styles/CommentCreateEditForm.module.css","styles/Post.module.css","styles/PostCreateEditForm.module.css","styles/MoreDropdown.module.css","styles/Comment.module.css","styles/PostsPage.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/Profile.module.css","styles/ProfilePage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","fetchMoreData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resource","setResource","_yield$axiosReq$get","data","wrap","_context","prev","next","get","sent","prevResource","_objectSpread","results","reduce","acc","cur","some","accResult","id","concat","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","followHelper","profile","clickedProfile","following_id","followers_count","is_owner","following_count","unfollowHelper","setTokenTimestamp","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTokenTimestamp","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_yield$axiosRes$get","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","_useClickOutsideToggl","handleSignOut","addPostIcon","NavLink","activeClassName","Active","to","loggedInIcons","_Fragment","onClick","profile_id","profile_image","loggedOutIcons","Navbar","expand","fixed","Container","Brand","Toggle","Collapse","Nav","exact","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","username","password1","password2","signUpData","setSignUpData","_useState3","_useState4","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Row","Col","md","appStyles","Content","Header","Form","onSubmit","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignUpCol","Image","FillerImage","SignInForm","password","signInData","setSignInData","_yield$axios$post","user","goBack","SignInCol","Asset","spinner","Spinner","animation","PostCreateForm","_errors$title","_errors$content","_errors$image","title","content","image","postData","setPostData","imageInput","formData","_yield$axiosReq$post","_err$response2","FormData","append","files","textFields","as","rows","Blue","lg","rounded","htmlFor","File","accept","length","URL","revokeObjectURL","createObjectURL","PostEditForm","useParams","_title","_content","_image","_imageInput$current","put","ThreeDots","React","forwardRef","e","MoreDropdown","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","ProfileEditDropdown","Absolute","Post","props","owner","comments_count","likes_count","like_id","updated_at","postPage","setPosts","delete","handleLike","_yield$axiosRes$post","prevPosts","handleUnlike","Card","Body","Media","Img","Title","Text","PostBar","OverlayTrigger","placement","overlay","Tooltip","Heart","HeartOutline","CommentEditForm","setShowEditForm","setComments","formContent","setFormContent","trim","prevComments","comment","disabled","Comment","setPost","showEditForm","prevPost","filter","Owner","Date","profileImage","CommentCreateForm","setContent","InputGroup","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","popularProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","Profile","mobile","_props$imageSize","imageSize","_useSetProfileData","WordBreak","BlackOutline","Black","PopularProfiles","slice","PostPage","comments","_yield$Promise$all","_yield$Promise$all2","_post","_comments","all","InfiniteScroll","dataLength","loader","hasMore","PostsPage","_ref$filter","posts","hasLoaded","setHasLoaded","pathname","useLocation","_useState5","_useState6","query","setQuery","fetchPosts","timer","setTimeout","clearTimeout","SearchIcon","SearchBar","NoResults","ProfilePage","profilePosts","setProfilePosts","fetchData","_pageProfile","_profilePosts","mainProfile","noGutters","ProfileImage","roundedCircle","xs","posts_count","mainProfilePosts","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","imageFile","_name","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","fluid","NotFound","Margin","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.7d60d80e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Margin\":\"NotFound_Margin__namBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\",\"Blue\":\"Button_Blue__10GcT\",\"BlueOutline\":\"Button_BlueOutline__YqCWO\",\"Bright\":\"Button_Bright__1MBHR\",\"Black\":\"Button_Black__2dCp7\",\"BlackOutline\":\"Button_BlackOutline__I-kZ-\"};","import axios from \"axios\";\n\n// Set the baseURL of the deployed api \n// Sent content-type to multipart/form-data as that is the data format the api will be expecting. \n// We need multipart because our app will be dealing with images as well as text in its requests\n// To avoid any CORS errors when sending cookies, we also need to set withCredentials to true\naxios.defaults.baseURL = '/api'\naxios.defaults.headers.post['Content-Type'] = 'multipart/form-data'\naxios.defaults.withCredentials = true\n\n// Export instances that we'll attach interceptors to. One to intercept the request and one for hte response\nexport const axiosReq = axios.create();\nexport const axiosRes = axios.create();","// This can be reused with any paginated data like comments or profiles.\n// A function to pass our next prop for infinite scrolling\n// Export an async function which will accept two arguments: resource and setResource so that we can\n\nimport jwtDecode from \"jwt-decode\";\nimport { axiosReq } from \"../api/axiosDefaults\"\n\n// render and update different types of data for our infinite scroll component\nexport const fetchMoreData = async (resource, setResource) => {\n    try {\n        // Make a network request to resource.next which is a url to the next page of results \n        // If there's no error, we'll call setResource and pass it a callback function with \n        // prevResource as the argument. The callback function will return an Object, inside of which\n        // we'll spread prevResource. Well update the next attribute with the url to the next page of results as well\n        const {data} = await axiosReq.get(resource.next)\n        setResource(prevResource => ({\n            ...prevResource,\n            next:data.next, \n            // Use teh reduce method to add our new posts to the prevResource.results array\n            results: data.results.reduce((acc, cur) => {\n                // Use the some method to check whether the callback passed to it returns true for at least one element \n                // in the array adn it stops running as soon as it does. So we can use it to check if any of our post ids \n                // in the newly fetched data matches an id that already exists in our previous results. If teh some method \n                // finds a matchMedia, we'll just return the existing accumulator to the reduce method but if it doesn't find a \n                // match we know this is a new post, so we can return our spread accumulator with the new post at the end\n\n                // A review of what's going on here: \n                // We used the reduce method to loop through the new page of results that we got from our API.\n                // We then appended our new results to the existing posts in our posts.results array in the state.\n                // Then we used teh some() method to leep through the array of posts in the accumulator.\n                // Inside, we compared each accumulator item id to the current post id from teh new fetched posts array.\n                // If the some() method returned true, this means it found a match and we are displaying that post already.\n                // So in this case we return the accumulator without adding the post to it and if the some() method does not find a match, we return an array containing our \n                // spread accumulator with teh new post added to it\n                return acc.some(accResult => accResult.id === cur.id) \n                    ? acc \n                    : [...acc, cur];\n            }, prevResource.results)\n        }));\n    } catch(err) {}\n};\n\nexport const followHelper = (profile, clickedProfile, following_id) => {\n    return profile.id === clickedProfile.id\n    ?   // This is the profile I clicked on, update its followers count and set its following id\n        // Check if the profile in the array we're iterating over is the same one the user just clicked on. If their id's are the same, we'll return the profile object, increasting its followers_count by 1 and setting\n        // it's following_id to data.id\n        {\n            ...profile,\n            followers_count: profile.followers_count + 1,\n            following_id,\n        }\n    : profile.is_owner\n    ?   // This is the profile of the logged in user. update its following count\n        // We'll check if hte profile in the array we're iterating over is owned by the currently logged in user. If so, we'll have to increase that profile's following_count by 1, because the currently logged in user\n        // just followed a profile.\n        { ...profile, following_count: profile.following_count + 1}\n    :   // This is not the profile the user clicked on or the profile the user owns, so just return it unchanged\n        profile;                    \n};\n\nexport const unfollowHelper = (profile, clickedProfile) => {\n    return profile.id === clickedProfile.id\n    ?   {\n            ...profile,\n            followers_count: profile.followers_count - 1,\n            following_id: null,\n        }\n    : profile.is_owner\n    ?   { ...profile, following_count: profile.following_count - 1}\n    :   profile;                    \n};\n\n// Token refresh fix\n\n// Set a token timestamp in the browser storage\n// Export and define a function call setTokenTimestamp. It will accept the data object returned by teh API on login. Then, we'll auto import and use teh jwtDecode function, to decode the refresh token. This object comes with \n// an expiry date with a key of exp so we can save teh exp attribute to a variabled called refreshTokenTimestamp.  Finally we can save that value to the user's browser using localStorage, and set its key to refreshTokenTimestamp\nexport const setTokenTimestamp = (data) => {\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n    localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\n// Create a function that will return a boolean value that will tell us if we should refresh the users token or not\n// Export and name is shouldRefreshToken and it will return the refreshTokenTimestamp value from our local storage, converted by the double not logical operator.  This means that the token will be refereshed only for a logged in user\nexport const shouldRefreshToken = () => {\n    return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\n// Finally, write a third function to remove the localStorage value if the user logs out or their refresh token has expired. So, export it and name it removeTokenTimestamp.  All it will do is remove the refreshTokenTimestamp from the localStorage\nexport const removeTokenTimestamp = () => {\n    localStorage.removeItem(\"refreshTokenTimestamp\");\n};","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// As different pieces of UI will be displayed based on whether the user browing our site is logged in or not, this means that\n// user state and data will be used all over the application. It would be a real pain to have to pass both the currentUser variable\n// and its setter function manually as props down teh Component TreeWalker. In order to make it more toHaveAccessibleDescription, we'll use \n// the useContext hook. The React documentation states that context provides a convenient way to pass data required by many Components in an APP. \n// Essentially, context is designed to share data that can be considered global to any child components that need access to it.\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\n// In order to make accessing currentUser and setCurrentUser less cumbersome, by not having to import the useContext alongside Context objects,\n// we'll create two custom hooks\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n    // Create useState hook and destructure the returned values as currentUser and setCurrentUser\n    const [currentUser, setCurrentUser] = useState(null);\n    const history = useHistory();\n\n    // We make a network request to check who the user isFinite, based on their credentials in the cookie\n    // To do that we have to make a GET request to the dj-rest-auth/user/ endpoint of our API which we should do \n    // when the component mounts\n    // Inside a try/catch block we'll make a GET request to the user endpoint. We'll destructure the data property\n    // in place and we'll set the currentUser to data, by calling setCurrentUser with it\n    // Uses the response interceptor\n    const handleMount = async () => {\n        try {\n          const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\n          setCurrentUser(data);\n        } catch (err) {\n        //   console.log(err);\n        }\n      };\n\n    // To have code run when a component mounts, we have to make use of the useEffect hook and pass it an empty dependency Array.\n    // Now we can call teh handleMount function inside\n    useEffect(() => {\n        handleMount();\n    }, []);\n\n    // useMemo hook is usually used to cache complex values that take time to compute. we are using it here because it runs\n    // before the children components are mounted and we want to attach teh intercepts before teh children mount as that's\n    // where we'll be using them and making the requests from\n\n    // Inside the useMemo hook, start by creating the response interceptor.  Attach it to the axiosRes instance created in axiosDefaults\n    // If there's no error, just return the response. If there is an error, check if it's status is 401 unauthorised, then inside a try/catch\n    // block attempt to refresh the token. If that fails, redirect teh user to the signin page. To do that, define teh history variables first. Back in \n    // the catch block, if the user is logged in redirect them to signin and set their data to null, if there's no error refreshing the token, return an \n    // axios instance with the error config to exit the interceptor. In case teh error wasn't 401, just reject teh Promise with teh error to exit the interceptor. \n    useMemo(() => {\n        axiosReq.interceptors.request.use(\n            async (config) => {\n                // The if block will run only if the token should be refreshed\n                if (shouldRefreshToken()){\n                    try {\n                        // Try to refresh the token before sending the request\n                        await axios.post('/dj-rest-auth/token/refresh/');\n                    } catch(err){\n                        // In case that fails, and the user was previously logged in it means that the refresh token has expired\n                        // so redirect them to the signin page and set currentUser to null\n                        setCurrentUser((prevCurrentUser)=> {\n                            if (prevCurrentUser) {\n                                history.push('/signin');\n                            }\n                            return null;\n                        });\n                        removeTokenTimestamp();\n                        return config;\n                    }\n                }                \n                return config;\n            },\n            (err) => {\n                return Promise.reject(err);\n            }\n        );\n\n        axiosRes.interceptors.response.use(\n            (response) => response,\n            async (err) => {\n                if (err.response?.status === 401){\n                    try{\n                        await axios.post('/dj-rest-auth/token/refresh/');\n                    } catch(err){\n                        setCurrentUser(prevCurrentUser => {\n                            if (prevCurrentUser){\n                                history.push('/signin');\n                            }\n                            return null;\n                        });\n                        removeTokenTimestamp();\n                    }\n                    return axios(err.config);\n                }\n                return Promise.reject(err);\n            }\n        )\n    // Add a dependency array for our useMemo hook with history inside.  We want useMemo to only run once, but the linter will\n    // throw a warning if we provided an empty array\n    }, [history]);\n\n    return (\n        // Every context object comes with a provider Component that allows child components to subscribe to the context changes. \n        // A provider accepts a value prop to be passed to child components that need to consume that value. In our case, the values \n        // being passed will be the currentUser and setCurrentUser, which is the function to update teh currentUser value.\n        <CurrentUserContext.Provider value={currentUser}>\n            <SetCurrentUserContext.Provider value={setCurrentUser}>\n                {children}\n            </SetCurrentUserContext.Provider>\n        </CurrentUserContext.Provider>\n    )\n}","import React from 'react'\nimport styles from '../styles/Avatar.module.css';\n\n// To make our code neater, we can destructure our props in place by moving our destructured variables into the function parameter brackets\nconst Avatar = ({ src, height = 45, text }) => {\n  return <span>\n    <img className={styles.Avatar} src={src} height={height} width={height} alt=\"avatar\" />\n    {text}\n    </span>;\n};\n\nexport default Avatar;","import { useEffect, useRef, useState } from 'react'\n\nconst useClickOutsideToggle = () => {\n    //   Automatically close the burger menu when user clicks on nav Link\n    //   First we need to know if the burger menu is expanded or not \n    //   Secondly, we need to know if the user has clicked outside the burger menu or not\n    //   To track the burger menu clicks we'll need to reference teh DOM using the useRef hook and we'll \n    //   also need to add and remove the mouseUp event from the HTML document in the useEffect hook to watch \n    //   for when the user lets go of their mouse click\n\n    // Keep track of whether the user has clicked on the burger menu to expand it. Destructure two variables, expanded and setExpanded\n    // in an array that is return by the useState hook. The initial value will be false, meaning that the menu will initially be collapsed.\n    // Then set react boostrap Navbar expanded prop to the expanded value that is coming from teh useState hook\n    // Then add the onClick attribute to the Navbar.Toggle element and set it to an arrow function that calls setExpanded with the opposite of the current value of the expanded variable\n    const [expanded, setExpanded] = useState(false)\n\n    // Handle functionality so that burger menu collapses when we choose one of it's options\n    // Then pass the Navbar.Toggle element the ref prop\n    const ref = useRef(null)\n    // Because we called the useRef hook, the Navbar.Toggle is saved in the ref variable's current attribute. \n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            // We'll first check the element has been assigned to it. We need this because its initial value is set to null. and then we'll check if the user has clicked away from the referenced button\n            // If they have, we'll call setExpanded with false, which will close our dropdown menu.\n            if (ref.current && !ref.current.contains(event.target)){\n                setExpanded(false)\n            }\n        }\n\n        document.addEventListener('mouseup', handleClickOutside)\n        // It's good practice to remove event listeners in case it's used on an element that could unmount\n        return () => {\n            document.removeEventListener('mouseup', handleClickOutside)\n        }\n    }, [ref])\n\n    // Return an object that contains everything that the NavBar component needs. To access these values we'll use and import the useClickOutsideToggle hook in NavBar.js\n    return { expanded, setExpanded, ref };\n}\n\nexport default useClickOutsideToggle","import React from \"react\";\n\nimport { Navbar } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { Nav } from \"react-bootstrap\";\n\nimport logo from \"../assets/logo.png\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport { useCurrentUser, useSetCurrentUser } from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  const {expanded, setExpanded, ref} = useClickOutsideToggle()\n\n  const handleSignOut = async () => {\n    try {\n      await axios.post(\"dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  const addPostIcon = (\n    <NavLink\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n      to=\"/posts/create\"\n    >\n      <i className=\"far fa-plus-square\"></i>Add post\n    </NavLink>\n  );\n  const loggedInIcons = (\n    <>\n      <NavLink\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n        to=\"/feed\"\n      >\n        <i className=\"fas fa-stream\"></i>Feed\n      </NavLink>\n      <NavLink\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n        to=\"/liked\"\n      >\n        <i className=\"fas fa-heart\"></i>Liked\n      </NavLink>\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\n        <i className=\"fas fa-sign-out-alt\"></i>Sign out\n      </NavLink>\n      <NavLink\n        className={styles.NavLink}\n        to={`/profiles/${currentUser?.profile_id}`}\n      >\n        <Avatar src={currentUser?.profile_image} text=\"Profile\" height={40} />\n      </NavLink>\n    </>\n  );\n  const loggedOutIcons = (\n    <>\n      <NavLink\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n        to=\"/signin\"\n      >\n        <i className=\"fas fa-sign-in-alt\"></i>Sign in\n      </NavLink>\n      <NavLink\n        to=\"/signup\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        <i className=\"fas fa-user-plus\"></i>Sign up\n      </NavLink>\n    </>\n  );\n\n  return (\n    <Navbar expanded={expanded} className={styles.NavBar} expand=\"md\" fixed=\"top\">\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <img src={logo} alt=\"logo\" height=\"45\" />\n          </Navbar.Brand>\n        </NavLink>\n        {currentUser && addPostIcon}\n        <Navbar.Toggle \n            ref={ref}\n            onClick={() => setExpanded(!expanded)} \n            aria-controls=\"basic-navbar-nav\" \n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-left\">\n            <NavLink\n              exact\n              className={styles.NavLink}\n              activeClassName={styles.Active}\n              to=\"/\"\n            >\n              <i className=\"fas fa-home\"></i>Home\n            </NavLink>\n\n            {currentUser ? loggedInIcons : loggedOutIcons}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABMCAYAAACWA2JIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF5GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuN2E3YTIzNiwgMjAyMS8wOC8xMi0wMDoyNToyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjUgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wOS0yMlQxMjowMDoxMCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDktMjJUMTM6MTA6NDMrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDktMjJUMTM6MTA6NDMrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NWJlYzk0MDQtODY3OC0x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\"","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\n// Export and define a hook which will accept an argument called userAuthStatus which will be a string set to either logged in or logged out depending on which  type of user we want to redirect.\nexport const useRedirect = (userAuthStatus) => {\n    // we are going to redirect users back to the home page so we'll use useHistory hook to save the history object into a variable\n    const history = useHistory();\n\n    // to tell whether or not a user is logged in, we'll need to make a network request on mount\n    // We don't need our axios interceptors here before this endpoint will let us know if the user is authenticated or not. The post request will act like a check as to whether the user is current logged in or not\n    // If the user is logged in the access tocken will be refreshed successfully and any code left in the try block will be able to run. If they are not logged in, we'll get a response with the 401 error, and then the code in our\n    // catch block will run.\n    useEffect(() => {\n        const handleMount = async () => {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n            // if user is logged in, the code below will run\n            if (userAuthStatus === \"loggedIn\") {\n              history.push(\"/\");\n            }\n          } catch (err) {\n            // if user is not logged in, the code below will run\n            if (userAuthStatus === \"loggedOut\") {\n              history.push(\"/\");\n            }\n          }\n        };\n    \n        handleMount();\n      }, [history, userAuthStatus]);\n    };","import React, {useState} from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nimport { Form } from \"react-bootstrap\";\nimport { Button } from \"react-bootstrap\";\nimport { Image } from \"react-bootstrap\";\nimport { Col } from \"react-bootstrap\";\nimport { Row } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport { Alert } from \"react-bootstrap\";\n\nimport axios from \"axios\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nconst SignUpForm = () => {\n  useRedirect('loggedIn');\n  const [signUpData, setSignUpData] = useState({\n    username: '',\n    password1: '',\n    password2: '',\n  })\n  // Destructure signUpData so we don't have to use dot notation  to access their values\n  const { username, password1, password2 } = signUpData;\n\n  // Make sure all appropriate errors are being displayed to the user. we'll call the useState\n  // hook with an empty object, where we will stor all the errors\n  const [errors, setErrors] = useState({});\n\n  // After successful registration, we should be directed to the /signin page. To do this\n  // we create a new variable called history and call teh useHistory hook that comes with react-router\n  const history = useHistory();\n\n  // onChange handler for when we try to type something into an input field so that it works\n  // This function will accept an event as a parameter and call teh setSignUpData function inside\n  // First we will have to spread the previous signUpData so that we only need to update our relevant\n  // attribute and for this we are going to use teh computed property name javascript feature on event.target.name\n  // and set it to event.target.value.  Essentially this line creates a key value pair, with the key being hte input \n  // field name and teh value being the value entered by teh user. This line means we can reuse this function to handle\n  // changes to any of our input fields, instead of writing separate handlers for each.\n  const handleChange = (event) => {\n    setSignUpData({\n      ...signUpData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  // Form submit handler is an async funcion that accepts teh event as an argument. Inside we'll call preventDefault so\n  // that the page doesn't refresh. Inside a try-catch block, we'll post all the signUpData to the endpoint in our API app\n  // for user registration which is /dj-rest-auth/registration/. After successful registration, we should be redirected to\n  // the /signin page.\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post('/dj-rest-auth/registration/', signUpData)\n      history.push('/signin');\n    } catch(err) {\n      // This code with the question mark is called optional chaining. What it does is check if response is defined before\n      // looking for the data. So if response isn't defined, it won't throw an error\n      setErrors(err.response?.data)\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto py-2 p-md-2\" md={6}>\n        <Container className={`${appStyles.Content} p-4 `}>\n          <h1 className={styles.Header}>sign up</h1>\n\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n                <Form.Label className=\"d-none\">username</Form.Label>\n                <Form.Control \n                  className={styles.Input} \n                  type=\"text\" \n                  placeholder=\"username\" \n                  name=\"username\" \n                  value={username} \n                  onChange={handleChange}\n                />\n            </Form.Group>\n            {/* Now that we are storing the errors in the state, we can display them to the user when something goes wrong\n            To do this we will map over the array of errors for each key in the error state. To do this, we'll use conditional \n            chaining again to check if the username key is in the errors object, and if so, then produce our alerts */}\n            {errors.username?.map((message, idx) =>\n              <Alert variant=\"warning\" key={idx}>{message}</Alert>\n            )}\n\n            <Form.Group controlId=\"Password1\">\n                <Form.Label className=\"d-none\">Password</Form.Label>\n                <Form.Control \n                  className={styles.Input} \n                  type=\"password\" \n                  placeholder=\"Password\" \n                  name=\"password1\" \n                  value={password1} \n                  onChange={handleChange}\n                />\n            </Form.Group>\n            {errors.password1?.map((message, idx) =>\n              <Alert variant=\"warning\" key={idx}>{message}</Alert>\n            )}\n\n            <Form.Group controlId=\"Password2\">\n                <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n                <Form.Control \n                  className={styles.Input} \n                  type=\"password\" \n                  placeholder=\"Confirm password\" \n                  name=\"password2\"\n                  value={password2} \n                  onChange={handleChange}\n                />\n            </Form.Group>\n            {errors.password2?.map((message, idx) =>\n              <Alert variant=\"warning\" key={idx}>{message}</Alert>\n            )}\n            \n            <Button className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`} type=\"submit\">\n                Sign up \n            </Button>\n          </Form>\n          {/* Non field errors i.e when the passwords don't match */}\n          {errors.non_field_errors?.map((message, idx) =>\n              <Alert variant=\"warning\" key={idx} className=\"mt-3\">{message}</Alert>\n            )}\n\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/signin\">\n            Already have an account? <span>Sign in</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={6}\n        className={`my-auto d-none d-md-block p-2 ${styles.SignUpCol}`}\n      >\n        <Image\n          className={`${appStyles.FillerImage}`}\n          src={\n            \"https://codeinstitute.s3.amazonaws.com/AdvancedReact/hero2.jpg\"\n          }\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default SignUpForm;","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\n\nfunction SignInForm() {\n  // Use the setCurrentUser function that was created in app.js\n  const setCurrentUser = useSetCurrentUser();\n\n  // Pass it loggedIn as we want to redirect users away from this page if they are already logged in\n  useRedirect('loggedIn')\n    \n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const { username, password } = signInData;\n\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n        // Now that we have access to the setter function, we can save the data returned from the sign in request into a variable\n        // and call it in the handleSubmit with use data returned from teh API\n      const {data} = await axios.post(\"/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      // This function should extract the expirty date from teh access token and save it to the user's browser in local storage\n      setTokenTimestamp(data);\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  const handleChange = (event) => {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-0 p-md-2\" md={6}>\n        <Container className={`${appStyles.Content} p-4 `}>\n          <h1 className={styles.Header}>sign in</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                className={styles.Input}\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                className={styles.Input}\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors.password?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\n              type=\"submit\"\n            >\n              Sign in\n            </Button>\n            {errors.non_field_errors?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\" className=\"mt-3\">\n                {message}\n              </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/signup\">\n            Don't have an account? <span>Sign up now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={6}\n        className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\n      >\n        <Image\n          className={`${appStyles.FillerImage}`}\n          src={\"https://codeinstitute.s3.amazonaws.com/AdvancedReact/hero.jpg\"}\n        />\n      </Col>\n    </Row>\n  );\n}\n\nexport default SignInForm;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\n// Destructure the props our asset component may receive. This makes a multi-purpose component\n// that can render any combination of the props that are passed to it.\nconst Asset = ({ spinner, src, message }) => {\n  return (\n    <div className={`${styles.Asset} p-4`}>\n      {/* The logic here with the double && first checks if the prop exists, and if it does, then renders the element within \n      the boolean expression. If we don't pass a spinner prop, it's value will be undefined and so the spinner component won't be rendered */}\n      {spinner && <Spinner animation=\"border\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className=\"mt-4\">{message}</p>}\n    </div>\n  );\n};\n\nexport default Asset;","import React, { useRef, useState } from \"react\";\n\nimport { useHistory } from \"react-router\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Image } from \"react-bootstrap\";\n\nimport Upload from \"../../assets/upload.png\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nimport Asset from \"../../components/Asset\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n  });\n  const { title, content, image } = postData;\n\n  const imageInput = useRef(null)\n\n  // Define the history variable by using and importing the useHIstory books, so that we can redirect our users.\n  const history = useHistory()\n\n  const handleChange = (event) => {\n    setPostData({\n      ...postData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleChangeImage = (event) => {\n    // Check to see if a user has chosen a file to upload by checking if there is a file in teh files array\n    if (event.target.files.length){\n        // In case our user descides to change their image file after adding one, we also need to call URL.revokeObjectURl to clear the browser's reference to the previous file.\n        URL.revokeObjectURL(image);\n        // call the setPOstData function, spread postData and then set the image attribute's value using URL.createObjectURL, which creates a local link to the file passed into it\n        // To access the file that has just been chosen, we have to access the files array on event.target and choose the first one.\n        setPostData({\n            ...postData,\n            image: URL.createObjectURL(event.target.files[0])\n        });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    // Instantiate a formData object instance and append all three relevant peices of data: title, content and image\n    const formData = new FormData();\n\n    formData.append('title', title)\n    formData.append('content', content)\n    formData.append('image', imageInput.current.files[0])\n\n    // Because we are sending an image file as well as text to our API we need to refresh the user's access token before we make a request to create a post.  For this, we will\n    // import and use the axiosReq instance and post the formData to the posts endpoint of our API. Our API will respond with the data about our newly created post, including it's \n    // id. we can create a unique url for the new post by adding the post id to our posts/url string.\n    try {\n        const {data} = await axiosReq.post('/posts/', formData);\n        history.push(`/posts/${data.id}`)\n    } catch(err){\n        // console.log(err)\n        // In case there's an error with our API request, we'll log it out to the console and update the errors state variable only if the error isn't 401, as the user would\n        // get redirected thanks to the interceptor logic\n        if (err.response?.status !== 401){\n            setErrors(err.response?.data)\n        }\n    }\n  }\n\n\n  const textFields = (\n    <div className=\"text-center\">\n        <Form.Group controlId=\"title\">\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n                type=\"text\"\n                name=\"title\"\n                value={title}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors.title?.map((message, idx) => (\n            <Alert key={idx} variant=\"warning\">\n                {message}\n            </Alert>\n        ))}\n\n        <Form.Group controlId=\"content\">\n            <Form.Label>Content</Form.Label>\n            <Form.Control\n                as=\"textarea\"\n                rows={6}\n                name=\"content\"\n                value={content}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors.content?.map((message, idx) => (\n            <Alert key={idx} variant=\"warning\">\n                {message}\n            </Alert>\n        ))}\n    \n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\n        onClick={() => history.goBack()}\n      >\n        cancel\n      </Button>\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\n        create\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">\n                {/* Logic to display our image preview */}\n                {image ? (\n                    <>\n                        <figure>\n                        <Image className={appStyles.Image} src={image} rounded />\n                        </figure>\n                        <div>\n                            <Form.Label className={`${btnStyles.Button} ${btnStyles.Blue} btn`} htmlFor=\"image-upload\" >\n                                Change the image\n                            </Form.Label>\n                        </div>\n                    </>\n                ) : (\n                    <Form.Label className=\"d-flex justify-content-center\" htmlFor=\"image-upload\">\n                        <Asset src={Upload} message=\"Click or tap to upload an image\" />\n                    </Form.Label>\n                )}\n                              \n                {/* Prop of image/* so that users can only upload images */}\n                <Form.File id=\"image-upload\" accept=\"image/*\" onChange={handleChangeImage} ref={imageInput} />\n                {errors.image?.map((message, idx) => (\n                    <Alert key={idx} variant=\"warning\">\n                        {message}\n                    </Alert>\n                ))}\n\n            </Form.Group>\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC\"","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nimport { useHistory, useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n  });\n  const { title, content, image } = postData;\n\n  const imageInput = useRef(null)\n\n  // Define the history variable by using and importing the useHIstory books, so that we can redirect our users.\n  const history = useHistory()\n\n  // As the ide for the post is stored in the url, useParams to get a parameter out of a url\n  const {id} = useParams();\n\n  // Set up useEffect hook to handle our API request using the id parameter we just accessed\n  // use axiosReq instance to get the data about our post, passing the id into the request string and we'll destructure the response into\n  // the data variable here.  Assuming there are no errors, we can destructure the data we received back from the API, so we'll get the \n  // post title, content, image and a value for if the logged in user is the owner of hte post.  If the logged in user is not the owner \n  // they won't be able to edit it and the code in our API app would simply refuse to update it when the user tries to submit the form. However\n  // a better user experience and more secure looking site would only allow the post owner to access teh edit post page in hte first place, and would\n  // redirect any other users away so we can add this functionaility with a quick ternary that checks if the user is the post owner, if so teh postData\n  // will be updated with the data. destructured above so that the input fields can be populated on mount.  In the second part of our ternary, if the user\n  // isn't the post owner, we'll send them back to the home page of the site instead.\n  useEffect(() => {\n    const handleMount = async () => {\n        try {\n            // destructure response into data variable\n            const {data} = await axiosReq.get(`/posts/${id}/`);\n            // destructure data\n            const {title, content, image, is_owner} = data;\n\n            is_owner ? setPostData({title, content, image}) : history.push('/');\n        } catch(err) {\n            // console.log(err);\n        }\n    };\n\n    handleMount();\n  }, [history, id]);\n\n  const handleChange = (event) => {\n    setPostData({\n      ...postData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleChangeImage = (event) => {\n    // Check to see if a user has chosen a file to upload by checking if there is a file in teh files array\n    if (event.target.files.length){\n        // In case our user descides to change their image file after adding one, we also need to call URL.revokeObjectURl to clear the browser's reference to the previous file.\n        URL.revokeObjectURL(image);\n        // call the setPOstData function, spread postData and then set the image attribute's value using URL.createObjectURL, which creates a local link to the file passed into it\n        // To access the file that has just been chosen, we have to access the files array on event.target and choose the first one.\n        setPostData({\n            ...postData,\n            image: URL.createObjectURL(event.target.files[0])\n        });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    // Instantiate a formData object instance and append all three relevant peices of data: title, content and image\n    const formData = new FormData();\n\n    formData.append('title', title);\n    formData.append('content', content);\n\n    // As we are using the state to display the image preview to the user, our file input element won't have a file in it unless the user uploads a new image so we first need\n    // to check if the imageInput element has a file in it, before try to append it to the formData.  If it doesn't the original file will stay in place in our api.\n    if (imageInput?.current?.files[0]){\n        formData.append('image', imageInput.current.files[0]);\n    }\n    \n    // .post changes to .put as we are updating an existing post instead of creating a new one\n    try {\n        await axiosReq.put(`/posts/${id}/`, formData);\n        history.push(`/posts/${id}`);\n    } catch(err){\n        // console.log(err);\n        // In case there's an error with our API request, we'll log it out to the console and update the errors state variable only if the error isn't 401, as the user would\n        // get redirected thanks to the interceptor logic\n        if (err.response?.status !== 401){\n            setErrors(err.response?.data);\n        }\n    }\n  };\n\n\n  const textFields = (\n    <div className=\"text-center\">\n        <Form.Group controlId=\"title\">\n            <Form.Label>Title</Form.Label>\n            <Form.Control\n                type=\"text\"\n                name=\"title\"\n                value={title}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors.title?.map((message, idx) => (\n            <Alert key={idx} variant=\"warning\">\n                {message}\n            </Alert>\n        ))}\n\n        <Form.Group controlId=\"content\">\n            <Form.Label>Content</Form.Label>\n            <Form.Control\n                as=\"textarea\"\n                rows={6}\n                name=\"content\"\n                value={content}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors.content?.map((message, idx) => (\n            <Alert key={idx} variant=\"warning\">\n                {message}\n            </Alert>\n        ))}\n    \n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\n        onClick={() => history.goBack()}\n      >\n        cancel\n      </Button>\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\n        save\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\n          <Container\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\n          >\n            <Form.Group className=\"text-center\">   \n                <figure>\n                    <Image className={appStyles.Image} src={image} rounded />\n                </figure>\n                <div>\n                    <Form.Label className={`${btnStyles.Button} ${btnStyles.Blue} btn`} htmlFor=\"image-upload\" >\n                        Change the image\n                    </Form.Label>\n                </div>\n                                                  \n                {/* Prop of image/* so that users can only upload images */}\n                <Form.File id=\"image-upload\" accept=\"image/*\" onChange={handleChangeImage} ref={imageInput} />\n                {errors.image?.map((message, idx) => (\n                    <Alert key={idx} variant=\"warning\">\n                        {message}\n                    </Alert>\n                ))}\n\n            </Form.Group>\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;","import React from \"react\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport styles from \"../styles/MoreDropdown.module.css\";\nimport { useHistory } from \"react-router\";\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\n\n// Our ThreeDots function needs to be passed a reference to the dropdown.toggle component but the ref can't be treated like a standard prop.\n// Just like the key prop, ref is handled differently by react compared to standard props, so to get around this, react-bootstrap uses the forwardRef method\n// to pass the ref into our function as a second argument.  ForwardRef is quite extensively used in reusable component libraries like react bootstrap\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n    <i\n      className=\"fas fa-ellipsis-v\"\n      ref={ref}\n      onClick={(e) => {\n        e.preventDefault();\n        onClick(e);\n      }}\n    />\n  ));\n\n  // create the menu for our dropdown, for which the boostrap default will be enough\n  export const MoreDropdown = ({handleEdit, handleDelete}) => {\n    return (\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n        <Dropdown.Toggle as={ThreeDots} />\n\n        <Dropdown.Menu className=\"text-center\" popperConfig={{strategy: \"fixed\"}}>\n            <Dropdown.Item \n                className={styles.DropdownItem}\n                onClick={handleEdit}\n                aria-label=\"edit\"\n            >\n                <i className=\"fas fa-edit\" />\n            </Dropdown.Item>\n            <Dropdown.Item\n                className={styles.DropdownItem}\n                onClick={handleDelete}\n                aria-label=\"delete\"\n            >\n                <i className=\"fas fa-trash-alt\" />\n            </Dropdown.Item>\n        </Dropdown.Menu>\n    </Dropdown>\n    );\n  };\n\n  export function ProfileEditDropdown({ id }) {\n    const history = useHistory();\n    return (\n      <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\n        <Dropdown.Toggle as={ThreeDots} />\n        <Dropdown.Menu>\n          <Dropdown.Item\n            onClick={() => history.push(`/profiles/${id}/edit`)}\n            aria-label=\"edit-profile\"\n          >\n            <i className=\"fas fa-edit\" /> edit profile\n          </Dropdown.Item>\n          <Dropdown.Item\n            onClick={() => history.push(`/profiles/${id}/edit/username`)}\n            aria-label=\"edit-username\"\n          >\n            <i className=\"far fa-id-card\" />\n            change username\n          </Dropdown.Item>\n          <Dropdown.Item\n            onClick={() => history.push(`/profiles/${id}/edit/password`)}\n            aria-label=\"edit-password\"\n          >\n            <i className=\"fas fa-key\" />\n            change password\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  }\n ","import React from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport { Card } from \"react-bootstrap\";\nimport { Media } from \"react-bootstrap\";\nimport { OverlayTrigger } from \"react-bootstrap\";\nimport { Tooltip } from \"react-bootstrap\";\n\nimport { Link, useHistory } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\n\nconst Post = (props) => {\n    // Destructure the props from our post results, passed from the parent component\n    const {\n        id,\n        owner,\n        profile_id,\n        profile_image,\n        comments_count,\n        likes_count,\n        like_id,\n        title,\n        content,\n        image,\n        updated_at,\n        postPage,\n        setPosts,\n    } = props;\n\n    const currentUser = useCurrentUser();\n    const is_owner = currentUser?.username === owner;\n    const history = useHistory();\n\n    const handleEdit = () => {\n        history.push(`/posts/${id}/edit`);\n    };\n\n    const handleDelete = async () => {\n        try {\n          await axiosRes.delete(`/posts/${id}/`);\n          history.goBack();\n        } catch (err) {\n        //   console.log(err);\n        }\n    };\n\n    // Make a post request to the likes endpoint with the post id so the API knows which post the user is trying to like\n    // If everything goes smoothly, we'll use the setPosts function passed from the parent component to update the likes_count\n    // Using setPOsts, we'll pass it a function with the prevPosts argument. Inside, we'll spread hte previousPosts in the object and update the results array only\n    // We will map over it and inside, we'll use a ternary to check if post id matches the id of the post that was liked, If it does match, we'll return the post object with the \n    // likes count incremented by one and the like_id set to the id of the response data.  If the id doesn't match, we'll just return the post and not do anything with it so that\n    // our map can move on to the next post in the prevPosts results array\n    const handleLike = async () => {\n        try {\n          const { data } = await axiosRes.post(\"/likes/\", { post: id });\n          setPosts((prevPosts) => ({\n            ...prevPosts,\n            results: prevPosts.results.map((post) => {\n              return post.id === id\n                ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n                : post;\n            }),\n          }));\n        } catch (err) {\n        //   console.log(err);\n        }\n      };\n\n      const handleUnlike = async () => {\n        try {\n          await axiosRes.delete(`/likes/${like_id}/`);\n          setPosts((prevPosts) => ({\n            ...prevPosts,\n            results: prevPosts.results.map((post) => {\n              return post.id === id\n                ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n                : post;\n            }),\n          }));\n        } catch (err) {\n        //   console.log(err);\n        }\n      };\n\n    return (\n        <Card className={styles.Post}>\n            <Card.Body>\n                <Media className=\"align-items-center justify-content-between\">\n                    <Link to={`/profiles/${profile_id}`}>\n                        <Avatar src={profile_image} height={55} />\n                        {owner}\n                    </Link>\n                    <div className=\"d-flex align-items-center\">\n                        <span>{updated_at}</span>\n                        {/* Check if the currently logged in user is teh owner, and if the postPage prop exists, if so, then we know we want to display the edit and delete options for our user */}\n                        {is_owner && postPage && (\n                            <MoreDropdown\n                                handleEdit={handleEdit}\n                                handleDelete={handleDelete}\n                            />\n                        )}\n                    </div>\n                </Media>\n            </Card.Body>\n            <Link to={`/posts/${id}`}>\n                <Card.Img src={image} alt={title} />\n            </Link>\n            <Card.Body>\n                {/* Check if the title and content props have been passed before we render the respective bootstrap components */}\n                {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\n                {content && <Card.Text>{content}</Card.Text>}\n                <div className={styles.PostBar}>\n                    {/* Owner of post is not allowed to like their own post so we'll check if the currentUser owns teh post and if they do we'll display a tooltip that says they can't like their own post */}\n                    {is_owner ? (\n                        <OverlayTrigger placement=\"top\" overlay={<Tooltip>You can't like your own post!</Tooltip>}>\n                            <i className=\"far fa-heart\" />\n                        </OverlayTrigger>\n                        // Second part of the ternary, if the currentUser isn't the owner of the post, our ternary will then check if a like_id exists, if it does, that means our user has already like hte post\n                    ) : like_id ? (\n                        <span onClick={handleUnlike}>\n                            <i className={`fas fa-heart ${styles.Heart}`} />\n                        </span>\n                        // Check if the user is logged in and if they are we'll give them the ability to like the post, so if there's no like_id, we'll check if currentUser is defined, if yes they can like it\n                    ) : currentUser ? (\n                        <span onClick={handleLike}>\n                            <i className={`far fa-heart ${styles.HeartOutline}`} />\n                        </span>\n                    ) : (\n                        // In the final part of the ternary, we can display the like icon for a user who is not logged in\n                        <OverlayTrigger placement=\"top\" overlay={<Tooltip>Log in to like posts!</Tooltip>}>\n                            <i className=\"far fa-heart\" />\n                        </OverlayTrigger>\n                    )}\n                    {likes_count}\n                    <Link to={`posts/${id}`}>\n                        <i className=\"far fa-comments\" />\n                    </Link>\n                    {comments_count}\n                </div>\n            </Card.Body>\n        </Card>\n    )\n};\n\nexport default Post;","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\n\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n  const [formContent, setFormContent] = useState(content);\n\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                updated_at: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group className=\"pr-1\">\n        <Form.Control\n          className={styles.Form}\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={styles.Button}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          cancel\n        </button>\n        <button\n          className={styles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          save\n        </button>\n      </div>\n    </Form>\n  );\n}\n\nexport default CommentEditForm;","import React, { useState } from 'react';\nimport styles from '../../styles/Comment.module.css';\nimport { Media } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport Avatar from \"../../components/Avatar\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport { axiosRes } from '../../api/axiosDefaults';\nimport CommentEditForm from \"./CommentEditForm\";\n\nconst Comment = (props) => {\n    const { \n        profile_id, \n        profile_image, \n        owner, \n        updated_at, \n        content,\n        id,\n        setPost,\n        setComments,\n    } = props;\n\n    const [showEditForm, setShowEditForm] = useState(false);\n\n    const currentUser = useCurrentUser();\n    const is_owner = currentUser?.username === owner;\n\n    // To successfully delete a comment, we'll have to decrement the post comments_count and filter out the deleted comment from teh comments array from our state\n    // To do that, we'll need to access both setPost and setComments functions inside teh comment component, so we'll have to pass them both as props to our comment component\n    // in PostPage.js and then add them to destructured props alongside comment_id, above.\n\n    const handleDelete = async () => {\n        try {\n            await axiosRes.delete(`/comments/${id}/`);\n            // If everything goes well with the request, we'll need to update the post results array with our new comments count\n            // Inside the array, we'll spread the previous post object and reduce it's comments_count by one. \n            setPost((prevPost) => ({\n                results: [\n                    {\n                        ...prevPost.results[0],\n                        comments_count: prevPost.results[0].comments_count - 1,\n                    },\n                ],\n            }));\n\n            // With the comments count on the post updated, we need to remove the deleted comment from our state.\n            // Call the setComments function and return an object, where we'll only update teh results array. We want to remove the comment that matches our id so we'll call\n            // the filter function to loop over the previous comments' results array. If the id is for the comment we want to remove our filter method will not return it into\n            // the updated results array\n            setComments((prevComments) => ({\n                ...prevComments,\n                results: prevComments.results.filter((comment) => comment.id !== id),\n            }));\n        } catch(err) {}\n    };\n\n    return (\n        <>\n          <hr />\n          <Media>\n            <Link to={`/profiles/${profile_id}`}>\n              <Avatar src={profile_image} />\n            </Link>\n            <Media.Body className=\"align-self-center ml-2\">\n              <span className={styles.Owner}>{owner}</span>\n              <span className={styles.Date}>{updated_at}</span>\n              {showEditForm ? (\n                <CommentEditForm\n                    id={id}\n                    profile_id={profile_id}\n                    content={content}\n                    profileImage={profile_image}\n                    setComments={setComments}\n                    setShowEditForm={setShowEditForm}\n                />\n              ) : (\n                <p>{content}</p>\n              )}\n            </Media.Body>\n            {is_owner && !showEditForm && (\n              <MoreDropdown\n                handleEdit={() => setShowEditForm(true)}\n                handleDelete={handleDelete}\n              />\n            )}\n          </Media>\n        </>\n      );\n};\n\nexport default Comment;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments, profileImage, profile_id } = props;\n  const [content, setContent] = useState(\"\");\n\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await axiosRes.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar src={profileImage} />\n          </Link>\n          <Form.Control\n            className={styles.Form}\n            placeholder=\"my comment...\"\n            as=\"textarea\"\n            value={content}\n            onChange={handleChange}\n            rows={2}\n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${styles.Button} btn d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        post\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;","import { createContext, useContext, useEffect, useState } from \"react\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\n\n\nconst ProfileDataContext = createContext();\nconst SetProfileDataContext = createContext();\n\nexport const useProfileData = () => useContext(ProfileDataContext);\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\n\nexport const ProfileDataProvider = ({ children }) => {\n    const [profileData, setProfileData] = useState({\n        // we will use the pageProfile later\n        pageProfile: { results: [] },\n        // set the popularProfiles to an object with an empty results array inside\n        popularProfiles: { results: [] },\n    });\n\n    // When do we run useEffect?  Every user has to make different requests to follow and unfollow people, so we'll need to re-fetch popularProfiles depending on the state of the current user\n    // we can then add it to the useEffect's dependency array\n    const currentUser = useCurrentUser();\n\n    const handleFollow = async (clickedProfile) => {\n        try {\n            // destructure the data property from the response object\n            const {data} = await axiosRes.post('/followers/', {\n                // The data we'll send is information about what profile the user just followed, which is the id of the profile the user just clicked\n                followed: clickedProfile.id\n            });\n\n            setProfileData((prevState) => ({\n                ...prevState,\n                pageProfile: {\n                    results: prevState.pageProfile.results.map((profile) => \n                        followHelper(profile, clickedProfile, data.id)\n                    ),\n                },\n                popularProfiles: {\n                    ...prevState.popularProfiles,\n                    results: prevState.popularProfiles.results.map((profile) => \n                        followHelper(profile, clickedProfile, data.id)\n                    ),\n                },\n            }));\n        } catch(err) {\n            // console.log(err);\n        }\n    };\n\n    const handleUnfollow = async (clickedProfile) => {\n        try {\n          await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\n          setProfileData((prevState) => ({\n            ...prevState,\n            pageProfile: {\n              results: prevState.pageProfile.results.map((profile) =>\n                unfollowHelper(profile, clickedProfile)\n              ),\n            },\n            popularProfiles: {\n              ...prevState.popularProfiles,\n              results: prevState.popularProfiles.results.map((profile) =>\n                unfollowHelper(profile, clickedProfile)\n              ),\n            },\n          }));\n        } catch (err) {\n          // console.log(err);\n        }\n      };\n\n    // Next we need to fetch our popularProfiles data on mount\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                // Make a request with the axiosReq instance to the profiles endpoint and getch them in descending order of how many followers they have so the most followed profile will be at the top\n                const {data} = await axiosReq.get('/profiles/?ordering=-followers_count');\n\n                // If everything goes well, we'll call the setProfileData function\n                // Inside, we'll spread the previous state, which will eventually include the pageProfile data as well as our popularProfiles\n                // Then, we can update only the popular profiles with the data returned from the API request\n                setProfileData(prevState => ({\n                    ...prevState,\n                    popularProfiles: data,\n                }));\n            } catch(err) {\n                // console.log(err)\n            }\n        };\n\n        handleMount();\n    }, [currentUser]);\n\n    return (\n        <ProfileDataContext.Provider value={profileData}>\n            {/* We have to expose the handleFollow function in the provider so that the profile components have access to it when the follow button is clicked. As we are sending two functions, we'll need\n            to send them as an object so we need to add an extra pair of curly braces and then add in our handleFollow function. Now that we are sending multiple functions within an object rather than a single\n            function, we'll have to destructure setProfileData in ProfilePage.js where we called our useSetProfileData hook */}\n          <SetProfileDataContext.Provider value={{setProfileData, handleFollow, handleUnfollow}}>\n            {children}\n          </SetProfileDataContext.Provider>\n        </ProfileDataContext.Provider>\n      );\n    };","import React from 'react';\nimport styles from '../../styles/Profile.module.css';\nimport btnStyles from '../../styles/Button.module.css';\nimport { useCurrentUser } from '../../contexts/CurrentUserContext';\nimport { Link } from 'react-router-dom';\nimport Avatar from '../../components/Avatar';\nimport { Button } from 'react-bootstrap';\nimport { useSetProfileData } from '../../contexts/ProfileDataContext';\n\nconst Profile = (props) => {\n    const {profile, mobile, imageSize=55} = props;\n    // Also need to access the data within the profile object so we'll destructure variables from it\n    const {id, following_id, image, owner} = profile;\n\n    // we also need to know if the logged in user is teh owner of the profile\n    const currentUser = useCurrentUser();\n    const is_owner = currentUser?.username === owner;\n\n    const {handleFollow, handleUnfollow} = useSetProfileData();\n\n    return (\n        <div className={`my-3 d-flex align-items-center ${mobile && 'flex-column'}`}>\n            <div>\n                <Link className=\"align-self-center\" to={`/profiles/${id}`}>\n                    <Avatar src={image} height={imageSize} />\n                </Link>\n            </div>\n            <div className={`mx-2 ${styles.WordBreak}`}>\n                <strong>{owner}</strong>\n            </div>\n            <div className={`text-right ${!mobile && 'ml-auto'}`}>\n                {/* Add the not-mobilel condition to check if we are on desktop, then we'll check if the currentUser exists so we know our user is logged in and finally\n                we'll also check if the user is not the owner of hte profile because our users won't be able to follow themselves */}\n                {!mobile && currentUser && !is_owner && (\n                    // We know we need to display a follow button to our user for this profile but should it be follow or unfollow? If the logged in user has followed the\n                    // profile, then a following_id prop from our API response won't be null, so we can use this in a ternary. If the following_id does exist, we'll display\n                    // the unfollow button\n                    following_id ? (\n                        <Button \n                            className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\n                            onClick={() => handleUnfollow(profile)}\n                        >\n                            unfollow\n                        </Button>\n                    ) : (\n                        <Button\n                            className={`${btnStyles.Button} ${btnStyles.Black}`}\n                            onClick={() => handleFollow(profile)}\n                        >\n                            follow\n                        </Button>\n                    )\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport appStyles from \"../../App.module.css\";\nimport Asset from \"../../components/Asset\";\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\nimport Profile from \"./Profile\";\n\nconst PopularProfiles = ({ mobile }) => {\n    const { popularProfiles } = useProfileData();\n\n    return (\n        // Check if the mobile prop exists and if it does, we'll add the bootstrap classes to hide the component on large screens and up\n        <Container className={`${appStyles.Content} ${\n            mobile && \"d-lg-none text-center mb-3\"\n        }`}>\n            {/* Check if there are any items in popularProfiles results array. If so  display the profiles, otherwise show the spinner */}\n            {popularProfiles.results.length ? (\n                <>\n                    <p>Most followed profiles.</p>\n                    {/* Check if it is mobile prop and change the layout of the profile names  */}\n                    {mobile ? (\n                        <div className='d-flex justify-content-around'>\n                            {popularProfiles.results.slice(0,4).map((profile) => (\n                                <Profile key={profile.id} profile={profile} mobile />\n                            ))}\n                        </div>\n                    ) : (\n                        popularProfiles.results.map((profile) => (\n                            <Profile key={profile.id} profile={profile} />\n                        ))\n                    )}                    \n                </>\n            ) : (\n                <Asset spinner />\n            )}\n        </Container>\n    );\n};\n\nexport default PopularProfiles;","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport appStyles from \"../../App.module.css\";\n\nimport { useParams } from \"react-router\";\n\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport Post from \"./Post\";\nimport Comment from \"../comments/Comment\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Asset from \"../../components/Asset\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport PopularProfiles from \"../profiles/PopularProfiles\";\n\nfunction PostPage() {\n    // The way to access url parameters using the react router library is to use and auto-import the useParams hook and destructure it in place\n    // with the name of the parameter that we set in the route, which was id.\n    const {id } = useParams();\n\n    // Now that we have the id of the post that we'd like to fetch, store it in the state. If we ask for a single post we'll get a single object returned, if\n    // we have for multiple posts, we'll get an array of objects so to make all future logic compatible with arrays of posts, we'll set the initial value to an object\n    // that contain an empty array of results, that way we can always operate on the results array regardless of whether we get a single post object or an array of posts\n    const [post, setPost] = useState({results: []});\n\n    const currentUser = useCurrentUser();\n    const profile_image = currentUser?.profile_image;\n    const [comments, setComments] = useState({ results: [] });\n\n    // Fetch the post on mount and as we're about to make a network request, create a try/catch block too\n    useEffect(() => {\n        const handleMount = async () => {\n            // Inside the try block we'll make our request to the API. We will be making two requests, one for post and one for its comments so it will be a little different\n            try {\n                // Here we are destructuring the data property returned from teh API and renaming it to post, renaming an object key is another nice destructuring feature, allowing\n                // us to give our variable a more meaningful name.  What Promise.all does is it accepts an array of promises and gets resolved when all the promises get resolved, returning\n                // an array of data. If any of the promises in the array fail, Promise.all gets rejected with an error. In this case the data returned is the post we requested\n                const [{data: post}, {data: comments}] = await Promise.all([\n                    axiosReq.get(`/posts/${id}`),\n                    axiosReq.get(`/comments/?post=${id}`)\n                ]);\n                setPost({results: [post]});\n                setComments(comments);\n            } catch(err){\n                // console.log(err);\n            }\n        };\n\n        // Call handleMount and run this code everytime the post id in the url changes\n        handleMount();\n    }, [id]);\n\n\n  return (\n    <Row className=\"h-100\">\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\n        <PopularProfiles mobile />\n        {/* Spread teh post object from teh results array so that its key value pairs are passed in as props. We'll also pass the setPost function which we will use later to handle our likes. We don't need to give teh PostPage prop\n        a value here, simply applying it means it will be returned as true inside our post component */}\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        \n        <Container className={appStyles.Content}>\n          {currentUser ? (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              profileImage={profile_image}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          ) : comments.results.length ? (\n            \"Comments\"\n          ) : null}\n          {comments.results.length ? (\n            <InfiniteScroll \n              children={comments.results.map((comment) => (\n                // Spread the comment object so that its contents are passed as props\n                <Comment\n                  key={comment.id}\n                  {...comment}\n                  setPost={setPost}\n                  setComments={setComments}\n                />\n                ))}\n                dataLength={comments.results.length}\n                loader={<Asset spinner />}\n                // !! operator returns true or false\n                hasMore={!!comments.next}\n                // This prop accepts a function that will be called to load the next page of results if the hasMore prop is true\n                next={() => fetchMoreData(comments, setComments)}\n            />               \n            ) : currentUser ? (\n              <span>No comments yet, be the first to comment!</span>\n            ) : (\n              <span>No comments... yet</span>\n            )}\n          </Container>\n        </Col>\n        <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\n          <PopularProfiles />\n        </Col>\n      </Row>\n    );\n  }\n  \n  export default PostPage;","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport appStyles from \"../../App.module.css\";\nimport styles from \"../../styles/PostsPage.module.css\";\n\nimport NoResults from \"../../assets/no-results.png\";\n\nimport { useLocation } from \"react-router\";\n\nimport {axiosReq} from '../../api/axiosDefaults';\nimport Post from './Post';\nimport Asset from '../../components/Asset';\nimport { fetchMoreData } from \"../../utils/utils\";\nimport PopularProfiles from \"../profiles/PopularProfiles\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\n// Destructure the message and filter props in place, setting the filter to an empty string\nfunction PostsPage({ message, filter=\"\" }) {\n    const currentUser = useCurrentUser();\n\n    // We need to store posts in an object, inside a results array that will originally be empty\n    const [posts, setPosts] = useState({ results: []});\n\n    // As it will take moment for posts to load, it makes sense to keep track of whether or not all\n    // the data has been fetched and we can use this to show a loading spinner to our users as they wait\n    // for posts to load\n    const [hasLoaded, setHasLoaded] = useState(false);\n\n    // We will also have to re-fetch posts against when the user clicks between hom and likes pages. To \n    // detect teh url change, we'll auto import the useLocation react router hook. The useLocation hook\n    // comes from teh react router library and returns an object with data about the current URL that teh user\n    // is on. We need to know this to detect if the user has flicked between home, feed and likes pages\n    const {pathname} = useLocation();\n\n    // To handle the search query, we'll use the useState hook to destructure our query variable and setQuery function\n    const [query, setQuery] = useState(\"\");\n\n    // We now need to take care of the API request to fetch our opsts, we'll only show posts relevant to that filter\n    // or show a loading icon when necessary.\n    useEffect(() => {\n        const fetchPosts = async () => {\n            try {\n                // The request string will contain our filter parameter which comes from the filter prop we set in our\n                // routes. It will tell the API if we want to see all the posts, just posts by the profiles our user has \n                // following, or just the posts they have liked. If there's no error, we'll setPOsts to the newly fetch data\n                // and set teh hasLoaded variable to true, so that the spinner is no longer displayed\n                // we can also add a new parameter to our api request to include the query text from the search box\n                const {data} = await axiosReq.get(`/posts/?${filter}search=${query}`);\n                setPosts(data);\n                setHasLoaded(true);\n            } catch(err){\n                // console.log(err);\n            }\n        };\n\n        setHasLoaded(false);\n\n        // Create a time so that when using the search form the page isn't rendered after each keystroke\n        const timer = setTimeout(() => {\n            fetchPosts();\n        }, 1000);\n        // Provide a cleanup function so that no timers are left behind\n        return () => {\n            clearTimeout(timer);\n        };\n\n        // We should run this code every time the filter or pathname change, so we need to put these inside teh useEffect's dependancy array\n        // As teh code will run every time either of these two values change, we'll also have to setHasLoaded to false before we fetch the posts, so that\n        // our loading spinner will be displayed to users.\n        // and also add our query to the dependency array so that a new request is only made each time our user changes their search text\n    }, [filter, query, pathname, currentUser]);\n\n    return (\n        <Row className=\"h-100\">\n        <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\n                <PopularProfiles mobile />\n            <i className={`fas fa-search ${styles.SearchIcon}`} />\n            <Form className={styles.SearchBar} onSubmit={(event) => event.preventDefault()}>\n                <Form.Control \n                    value={query} \n                    onChange={(event) => setQuery(event.target.value)} \n                    type=\"text\" \n                    className=\"mr-sm-2\" \n                    placeholder=\"Search Posts\" \n                />\n            </Form>\n\n            {/* A nested ternary to display our posts once we have loaded them */}\n            {/* First check if the data has been loaded, if it hasn't we will show our loading spinner */}\n            {hasLoaded ? (\n                // Then, if our data has loaded, inside a fragment, we'll create a second ternary to either display our posts or show a message\n                <>\n                    {/* Check if the results array in our state has a length, if so, show our posts here by mapping over the posts. If not, we'll show no results message */}\n                    {/* Map over the posts.results array, return the Post component, give it a key, spread the post object and pass the setPOsts function so that the users can like and unlike posts */}\n                    {posts.results.length ? (\n                        <InfiniteScroll \n                            children={\n                                posts.results.map((post) => (\n                                    <Post key={post.id} {...post} setPosts={setPosts} />\n                                ))\n                            }\n                            dataLength={posts.results.length}\n                            loader={<Asset spinner />}\n                            // !! operator returns true or false\n                            hasMore={!!posts.next}\n                            // This prop accepts a function that will be called to load the next page of results if the hasMore prop is true\n                            next={() => {fetchMoreData(posts, setPosts)}}\n                        />                        \n                        ) : (\n                            <Container className={appStyles.Content}>\n                                <Asset src={NoResults} message={message} />\n                            </Container>\n                    )}\n                </>\n            ) : (\n                <Container className={appStyles.Content}>\n                    <Asset spinner />\n                </Container>\n            )}\n        </Col>\n        <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\n            <PopularProfiles />\n        </Col>\n        </Row>\n    );\n}\n\nexport default PostsPage;","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/ProfilePage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport btnStyles from \"../../styles/Button.module.css\";\n\nimport PopularProfiles from \"./PopularProfiles\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { useParams } from \"react-router\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useProfileData, useSetProfileData, } from \"../../contexts/ProfileDataContext\";\nimport { Button, Image } from \"react-bootstrap\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Post from \"../posts/Post\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport NoResults from \"../../assets/no-results.png\";\nimport { ProfileEditDropdown } from \"../../components/MoreDropdown\";\n\n\nfunction ProfilePage() {\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [profilePosts, setProfilePosts] = useState({ results: [] });\n\n  const currentUser = useCurrentUser();\n  // Fetch data about the chosen profile to display in header\n  // To know which profile to fetch, we'll need to extract the id from the URL using useParams hook\n  const {id} = useParams();\n\n  const {setProfileData, handleFollow, handleUnfollow} = useSetProfileData();\n  const {pageProfile} = useProfileData();\n  \n  const [profile] = pageProfile.results;\n  const is_owner = currentUser?.username === profile?.owner;\n\n  useEffect(() => {\n      // Destructure the data returned and rename it to page profile\n      //In the array, we'll make the request to the profiles/:id endpoint\n      // If everything goes well, we will need to update the pageProfile data. To access it, we'll define the setProfiledata function above\n      const fetchData = async () => {\n        try {\n            const [{ data: pageProfile }, { data: profilePosts }] = await Promise.all([\n                axiosReq.get(`/profiles/${id}/`),\n                axiosReq.get(`/posts/?owner__profile=${id}`),\n            ]);\n\n            // We'll call setProfileData and spread prevState, updating the pageProfile only. After the pageProfile data has been fetched and updated in the state\n            // we can hide the loader, so we'll move teh setHasLoaded inside our fetchData function.\n            setProfileData((prevState) => ({\n                ...prevState,\n                pageProfile: {results: [pageProfile]},\n            }));\n            setProfilePosts(profilePosts);\n            setHasLoaded(true);\n        } catch(err) {\n            // console.log(err);\n        }\n      };\n      fetchData();\n  }, [id, setProfileData]);\n\n  const mainProfile = (\n    <>\n      {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\n      <Row noGutters className=\"px-3 text-center\">\n        <Col lg={3} className=\"text-lg-left\">\n          <Image className={styles.ProfileImage} roundedCircle src={profile?.image} />\n        </Col>\n        <Col lg={6}>\n          <h3 className=\"m-2\">{profile?.owner}</h3>\n          <Row className=\"justify-content-center no-gutters\">\n            <Col xs={3} className=\"my-2\">\n                <div>{profile?.posts_count}</div>\n                <div>posts</div>\n            </Col>\n            <Col xs={3} className=\"my-2\">\n                <div>{profile?.followers_count}</div>\n                <div>followers</div>\n            </Col>\n            <Col xs={3} className=\"my-2\">\n                <div>{profile?.following_count}</div>\n                <div>following</div>\n            </Col>\n          </Row>\n        </Col>\n        <Col lg={3} className=\"text-lg-right\">\n            {currentUser && \n                !is_owner && \n                (profile?.following_id ? (\n                    <Button \n                        className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\n                        onClick={() => handleUnfollow(profile)}\n                    >\n                        unfollow\n                    </Button>\n                ) : (\n                    <Button\n                        className={`${btnStyles.Button} ${btnStyles.Black}`}\n                        onClick={() => handleFollow(profile)}\n                    >\n                        follow\n                    </Button>\n                )\n            )}\n        </Col>\n        {/* Conditionally render this column to display the profile content, checking that it is defined before trying to render it */}\n        { profile?.content && (<Col className=\"p-3\">{profile.content}</Col>)}\n      </Row>\n    </>\n  );\n\n  const mainProfilePosts = (\n    <>\n      <hr />\n      <p className=\"text-center\">{profile?.owner}'s posts</p>\n      <hr />\n      {profilePosts.results.length ? (\n        <InfiniteScroll \n            children={profilePosts.results.map((post) => (\n            <Post\n                key={post.id}\n                {...post}\n                setPosts={setProfilePosts}\n            />\n            ))}\n            dataLength={profilePosts.results.length}\n            loader={<Asset spinner />}\n            hasMore={!!profilePosts.next}\n            next={() => fetchMoreData(profilePosts, setProfilePosts)}\n        />  \n      ) : (\n        <Asset src={NoResults} message={`No results found, ${profile?.owner} hasn't posted yet`} />\n      )}\n    </>\n  );\n\n  return (\n    <Row>\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\n        <PopularProfiles mobile />\n        <Container className={appStyles.Content}>\n          {hasLoaded ? (\n            <>\n              {mainProfile}\n              {mainProfilePosts}\n            </>\n          ) : (\n            <Asset spinner />\n          )}\n        </Container>\n      </Col>\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\n        <PopularProfiles />\n      </Col>\n    </Row>\n  );\n}\n\nexport default ProfilePage;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit} className=\"my-2\">\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(event) => setUsername(event.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              type=\"submit\"\n            >\n              save\n            </Button>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst UserPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (event) => {\n    setUserData({\n      ...userData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>New password</Form.Label>\n              <Form.Control\n                placeholder=\"new password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Form.Group>\n              <Form.Label>Confirm password</Form.Label>\n              <Form.Control\n                placeholder=\"confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n            >\n              save\n            </Button>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\n\nconst ProfileEditForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    content: \"\",\n    image: \"\",\n  });\n  const { name, content, image } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\n          const { name, content, image } = data;\n          setProfileData({ name, content, image });\n        } catch (err) {\n          // console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (event) => {\n    setProfileData({\n      ...profileData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"content\", content);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"image\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_image: data.image,\n      }));\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  const textFields = (\n    <>\n      <Form.Group>\n        <Form.Label>Bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={content}\n          onChange={handleChange}\n          name=\"content\"\n          rows={7}\n        />\n      </Form.Group>\n\n      {errors?.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\n        onClick={() => history.goBack()}\n      >\n        cancel\n      </Button>\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\n        save\n      </Button>\n    </>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\n          <Container className={appStyles.Content}>\n            <Form.Group>\n              {image && (\n                <figure>\n                  <Image src={image} fluid />\n                </figure>\n              )}\n              {errors?.image?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                  {message}\n                </Alert>\n              ))}\n              <div>\n                <Form.Label\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\n                  htmlFor=\"image-upload\"\n                >\n                  Change the image\n                </Form.Label>\n              </div>\n              <Form.File\n                id=\"image-upload\"\n                ref={imageFile}\n                accept=\"image/*\"\n                onChange={(e) => {\n                  if (e.target.files.length) {\n                    setProfileData({\n                      ...profileData,\n                      image: URL.createObjectURL(e.target.files[0]),\n                    });\n                  }\n                }}\n              />\n            </Form.Group>\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default ProfileEditForm;","import React from 'react';\nimport NoResults from \"../assets/no-results.png\";\nimport styles from \"../styles/NotFound.module.css\";\nimport Asset from \"./Asset.js\";\n\n\nconst NotFound = () => {\n  return (\n    <div className={styles.Margin}>\n        <Asset src={NoResults} message=\"Sorry, the page you're looking for doesn't exist\" />\n    </div>\n  )\n}\n\nexport default NotFound;","import styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport SignInForm from \"./pages/auth/SignInForm\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\nimport NotFound from \"./components/NotFound\";\n\nfunction App() {\n  // Before we create the routes, we need to know who the currentUser is so we can\n  // return the posts they liked, and the ones by profiles they follow\n  const currentUser = useCurrentUser();\n  // we need their profile_id to know whose profile_id to filter teh posts by. In case\n  // the current user's details are still being fetched in the background, it will default to\n  // an empty string.\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n        // The styles object here relates to the name we gave our import at the top and the .App \n        // relates to the .APP class we set in our css File. Now all the properties we created for \n        // the .App class name will be applied to this element\n        <div className={styles.App}>\n          <NavBar />\n          <Container className={styles.Main}>\n            {/* The Switch holds all our Routes, and renders a given component when a Route path\n            matches the current URL. The render prop on our Route component accepts a function\n            that returns a component to be rendered when teh Route path is matched.  The path\n            prop is the browser url the user will be at when they see teh component in our render prop.\n            The exact prop tells the route to only render its component when teh url entered is exactly\n            the same. */}\n            <Switch>\n              <Route \n                exact \n                path=\"/\" \n                render={() => (\n                  <PostsPage message=\"No results found. Adjust the search keyword.\" />\n                )}\n              />\n              <Route \n                exact \n                path=\"/feed\" \n                render={() => (\n                  <PostsPage \n                    message=\"No results found. Adjust the search keyword or follow a user.\"\n                    filter={`owner__followed__owner__profile=${profile_id}&`} \n                  />\n                )} \n              />\n              <Route \n                exact \n                path=\"/liked\" \n                render={() => (\n                  <PostsPage \n                    message=\"No results found. Adjust the search keyword or like a post.\"\n                    filter={`likes__owner__profile=${profile_id}&ordering=-likes__created_at&`}\n                  />\n                )}\n              />\n              <Route exact path=\"/signin\" render={() => <SignInForm />} />\n              <Route exact path=\"/signup\" render={() => <SignUpForm />} />\n              <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n              <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n              \n              {/* The : means that id is a parameter that can be passed through the url */}\n              <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n              <Route exact path=\"/profiles/:id\" render ={() => <ProfilePage />} />\n              <Route\n                exact\n                path=\"/profiles/:id/edit/username\"\n                render={() => <UsernameForm />}\n              />\n              <Route\n                exact\n                path=\"/profiles/:id/edit/password\"\n                render={() => <UserPasswordForm />}\n              />\n              <Route\n                exact\n                path=\"/profiles/:id/edit\"\n                render={() => <ProfileEditForm />}\n              />\n              <Route render={()=> <NotFound />} />\n            </Switch>\n          </Container>\n        </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\n\nReactDOM.render(\n    <Router>\n      <CurrentUserProvider>\n        <ProfileDataProvider>\n          <App />\n        </ProfileDataProvider>\n      </CurrentUserProvider>\n    </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Main\":\"App_Main__HQkvd\",\"Content\":\"App_Content__ZaMNr\",\"FillerImage\":\"App_FillerImage__2ob-g\",\"Image\":\"App_Image__3UPXw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3PbVy\",\"Input\":\"SignInUpForm_Input__3xaLZ\",\"Header\":\"SignInUpForm_Header__3joQJ\",\"Link\":\"SignInUpForm_Link__1BeMm\",\"Container\":\"SignInUpForm_Container__2cuBp\",\"SignInCol\":\"SignInUpForm_SignInCol__3ImPK\",\"SignUpCol\":\"SignInUpForm_SignUpCol__28o4y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__1Qeyz\",\"Button\":\"CommentCreateEditForm_Button__sGFSX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"Heart\":\"Post_Heart__3zMAO\",\"HeartOutline\":\"Post_HeartOutline__2dqsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__2E4UM\",\"Absolute\":\"MoreDropdown_Absolute__2RO70\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__3sgYe\",\"Date\":\"Comment_Date__10qt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__1T8bC\",\"SearchIcon\":\"PostsPage_SearchIcon__12ojn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"Profile_WordBreak__3_YmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage__7dvRw\"};"],"sourceRoot":""}